import math
# btc- usd : 1000, 990
# btc - eur : 1200 , 1150
# USD to EUR 1/1000 btc * 1150 = 1.2
from collections import defaultdict
from collections import deque
import requests
import time

class FX:

    def __init__(self):
        self.graph = defaultdict(list)

    def build_graph(self, input_dict):

        for k, v in input_dict.items():
            fro, to = k.split('-')
            self.graph[fro].append((to, float(v['bid'])))
            self.graph[to].append((fro, 1 / float(v['ask'])))

    def fx(self, fro, to_v):

        q = deque()
        init_path = [fro]

        q.append((fro, 1, init_path))

        path = None
        min_curr_ex = 0
        while q:
            node, amt, curr_path = q.popleft()

            if node == to_v:
                if amt > min_curr_ex:
                    path = curr_path
                    min_curr_ex = amt
                    print(curr_path, amt)
            for to, rate in self.graph[node]:
                if to not in curr_path:
                    curr_amt = amt * rate
                    curr_path.append(to)
                    q.append((to, curr_amt, list(curr_path)))
                    curr_path.pop()

        return (-1, None) if min_curr_ex == math.inf else (min_curr_ex, path)


class Client:
    def __init__(self):
        pass

    def products(self):
        r = requests.get('https://api.pro.coinbase.com/products')
        prods = r.json()
        for prod in prods:
            yield prod['id']


    def curr_ex_rate(self, ticker):
        path = f'https://api.pro.coinbase.com/products/{ticker}/ticker'
        r = requests.get(path)
        body = r.json()
        obj = {
            ticker : body
        }
        return obj

    def get_all_ticker_rates(self):
        ticker_rate = {}
        for ticker in self.products():
            resp = self.curr_ex_rate(ticker)
            print(resp)
            ticker_rate.update(resp)
            time.sleep(0.5)
        return ticker_rate

# 1/1000 * 1200 = 1.2 / 1.2 = 1 ETH * 100 = 100
# 1 / 200 *
f = FX()
# tickers = {
#     "BTC-USD": {"ask": 1000, "bid": 990},
#     "BTC-EUR": {"ask": 1200, "bid": 1150},
#     "ETH-USD": {"ask": 200, "bid": 180},
#     "ETH-EUR": {"ask": 220, "bid": 210}
# }
# client = Client()
# tickers = client.get_all_ticker_rates()
# print(tickers)

tickers = {'UNI-USD': {'trade_id': 3262766, 'price': '6.4277', 'size': '3.151294', 'time': '2021-01-07T00:01:32.12504Z', 'bid': '6.4283', 'ask': '6.4338', 'volume': '3845048.087298'}, 'BAND-BTC': {'trade_id': 654145, 'price': '0.00024292', 'size': '5', 'time': '2021-01-07T00:01:28.533144Z', 'bid': '0.00024222', 'ask': '0.00024299', 'volume': '300682.86'}, 'FIL-BTC': {'trade_id': 111315, 'price': '0.00059656', 'size': '29.15', 'time': '2021-01-07T00:01:24.202175Z', 'bid': '0.00059546', 'ask': '0.00059687', 'volume': '39214.655'}, 'NMR-EUR': {'trade_id': 331228, 'price': '23.1894', 'size': '0.02', 'time': '2021-01-06T23:58:36.56445Z', 'bid': '23.2192', 'ask': '23.2833', 'volume': '32945.157'}, 'XTZ-BTC': {'trade_id': 1587308, 'price': '0.00007206', 'size': '346', 'time': '2021-01-07T00:01:34.20427Z', 'bid': '0.00007202', 'ask': '0.00007211', 'volume': '1156975.25'}, 'LRC-USD': {'trade_id': 1748321, 'price': '0.4131', 'size': '500', 'time': '2021-01-07T00:01:38.361393Z', 'bid': '0.4125', 'ask': '0.4131', 'volume': '210841343.804463'}, 'CGLD-BTC': {'trade_id': 460267, 'price': '0.0000628', 'size': '3.02', 'time': '2021-01-07T00:01:24.631825Z', 'bid': '0.00006282', 'ask': '0.00006315', 'volume': '502047.73'}, 'LINK-EUR': {'trade_id': 751093, 'price': '14.06474', 'size': '16.24', 'time': '2021-01-07T00:01:31.788671Z', 'bid': '14.04983', 'ask': '14.06977', 'volume': '948582.4'}, 'AAVE-BTC': {'trade_id': 89298, 'price': '0.00312109', 'size': '5.21', 'time': '2021-01-07T00:01:25.504915Z', 'bid': '0.00310746', 'ask': '0.00311435', 'volume': '25367.404'}, 'XLM-USD': {'trade_id': 12524315, 'price': '0.338915', 'size': '2681', 'time': '2021-01-07T00:01:41.505479Z', 'bid': '0.338394', 'ask': '0.339575', 'volume': '2006104596'}, 'UMA-BTC': {'trade_id': 273990, 'price': '0.00026265', 'size': '0.988', 'time': '2021-01-07T00:01:08.901748Z', 'bid': '0.00026226', 'ask': '0.00026265', 'volume': '31570.827'}, 'NU-USD': {'trade_id': 1698661, 'price': '0.198', 'size': '767.789619', 'time': '2021-01-07T00:01:36.712931Z', 'bid': '0.1979', 'ask': '0.1982', 'volume': '111984164.703331'}, 'ETC-USD': {'trade_id': 6682005, 'price': '7.639', 'size': '0.10049588', 'time': '2021-01-07T00:01:43.351248Z', 'bid': '7.639', 'ask': '7.657', 'volume': '825484.3479902'}, 'COMP-BTC': {'trade_id': 869568, 'price': '0.004987', 'size': '0.061', 'time': '2021-01-07T00:01:43.371075Z', 'bid': '0.004985', 'ask': '0.004991', 'volume': '5622.594'}, 'KNC-BTC': {'trade_id': 721672, 'price': '0.00003234', 'size': '45.2', 'time': '2021-01-07T00:01:35.092042Z', 'bid': '0.00003217', 'ask': '0.00003233', 'volume': '2610962.2'}, 'SNX-USD': {'trade_id': 590757, 'price': '12.1347', 'size': '1.1', 'time': '2021-01-07T00:01:45.90946Z', 'bid': '12.1364', 'ask': '12.1635', 'volume': '1544106.136'}, 'BAL-USD': {'trade_id': 455222, 'price': '18.53986', 'size': '46.1', 'time': '2021-01-07T00:01:44.25261Z', 'bid': '18.53985', 'ask': '18.53986', 'volume': '89638.241'}, 'MKR-BTC': {'trade_id': 570839, 'price': '0.02772', 'size': '0.010542', 'time': '2021-01-07T00:01:47.277184Z', 'bid': '0.02772', 'ask': '0.0278', 'volume': '8069.354682'}, 'ETH-BTC': {'trade_id': 11894292, 'price': '0.03299', 'size': '0.0000735', 'time': '2021-01-07T00:01:45.167948Z', 'bid': '0.03296', 'ask': '0.03299', 'volume': '87708.13983136'}, 'AAVE-EUR': {'trade_id': 57864, 'price': '93.326', 'size': '2', 'time': '2021-01-07T00:01:25.479431Z', 'bid': '92.952', 'ask': '93.172', 'volume': '16202.461'}, 'ZEC-BTC': {'trade_id': 781651, 'price': '0.001739', 'size': '8', 'time': '2021-01-07T00:00:46.312165Z', 'bid': '0.001737', 'ask': '0.00174', 'volume': '14096.5964'}, 'XRP-GBP': {'trade_id': 853248, 'price': '0.182', 'size': '20', 'time': '2021-01-07T00:01:42.651967Z', 'bid': '0.1816', 'ask': '0.182', 'volume': '44147857.972008'}, 'CGLD-EUR': {'trade_id': 272994, 'price': '1.8875', 'size': '10.55', 'time': '2021-01-07T00:00:49.996796Z', 'bid': '1.8788', 'ask': '1.8882', 'volume': '899595.45'}, 'DASH-BTC': {'trade_id': 461608, 'price': '0.00256024', 'size': '4.407', 'time': '2021-01-07T00:01:09.444426Z', 'bid': '0.00255449', 'ask': '0.00255654', 'volume': '10483.31625018'}, 'XLM-EUR': {'trade_id': 1986773, 'price': '0.272161', 'size': '197', 'time': '2021-01-07T00:01:51.820214Z', 'bid': '0.272161', 'ask': '0.276282', 'volume': '291515530'}, 'NU-GBP': {'trade_id': 134120, 'price': '0.1456', 'size': '500', 'time': '2021-01-07T00:01:45.373935Z', 'bid': '0.1454', 'ask': '0.1456', 'volume': '8534416.225527'}, 'XTZ-USD': {'trade_id': 7574630, 'price': '2.6603', 'size': '5.65', 'time': '2021-01-07T00:01:51.397595Z', 'bid': '2.6603', 'ask': '2.6614', 'volume': '9159707.31'}, 'GRT-GBP': {'trade_id': 180779, 'price': '0.2712', 'size': '345.89', 'time': '2021-01-07T00:01:33.01539Z', 'bid': '0.2712', 'ask': '0.2721', 'volume': '12071371.11'}, 'OXT-USD': {'trade_id': 6767613, 'price': '0.2851', 'size': '69', 'time': '2021-01-07T00:01:53.876544Z', 'bid': '0.282', 'ask': '0.2851', 'volume': '59423965'}, 'DAI-USD': {'trade_id': 2154087, 'price': '1.00169', 'size': '67.99176', 'time': '2021-01-07T00:01:52.430785Z', 'bid': '1.001691', 'ask': '1.002417', 'volume': '17411178.73163'}, 'UMA-EUR': {'trade_id': 196169, 'price': '7.856', 'size': '0.508', 'time': '2021-01-06T23:57:45.446099Z', 'bid': '7.838', 'ask': '7.865', 'volume': '42794.376'}, 'ETC-GBP': {'trade_id': 468783, 'price': '5.63', 'size': '12.72677466', 'time': '2021-01-06T23:51:56.228386Z', 'bid': '5.598', 'ask': '5.609', 'volume': '65231.26441137'}, 'OMG-USD': {'trade_id': 3945667, 'price': '3.7202', 'size': '1.3', 'time': '2021-01-07T00:01:56.211631Z', 'bid': '3.7113', 'ask': '3.7177', 'volume': '4665050.6'}, 'BAND-GBP': {'trade_id': 577264, 'price': '6.5823', 'size': '13.5', 'time': '2021-01-07T00:01:40.441192Z', 'bid': '6.5568', 'ask': '6.5851', 'volume': '146785.15'}, 'ATOM-USD': {'trade_id': 2863422, 'price': '6.702', 'size': '0.3', 'time': '2021-01-07T00:01:49.443663Z', 'bid': '6.704', 'ask': '6.71', 'volume': '1809026.2'}, 'LINK-GBP': {'trade_id': 392213, 'price': '12.73053', 'size': '2', 'time': '2021-01-07T00:01:54.025039Z', 'bid': '12.70772', 'ask': '12.72827', 'volume': '752778.84'}, 'SNX-EUR': {'trade_id': 126969, 'price': '9.8455', 'size': '23.6', 'time': '2021-01-07T00:01:48.755733Z', 'bid': '9.8306', 'ask': '9.8616', 'volume': '218788.398'}, 'YFI-BTC': {'trade_id': 116709, 'price': '0.67119', 'size': '0.001256', 'time': '2021-01-07T00:01:52.569303Z', 'bid': '0.67111', 'ask': '0.67213', 'volume': '121.73707'}, 'BAND-USD': {'trade_id': 2613041, 'price': '8.9575', 'size': '0.56', 'time': '2021-01-07T00:01:58.960445Z', 'bid': '8.9428', 'ask': '8.9633', 'volume': '2146332.28'}, 'WBTC-USD': {'trade_id': 174104, 'price': '36952.52', 'size': '0.00019715', 'time': '2021-01-07T00:01:30.568179Z', 'bid': '36868.97', 'ask': '36960', 'volume': '76.20491466'}, 'ETH-EUR': {'trade_id': 12815958, 'price': '984.78', 'size': '0.00472795', 'time': '2021-01-07T00:02:01.956706Z', 'bid': '984.34', 'ask': '985.83', 'volume': '90259.21376351'}, 'ETH-DAI': {'trade_id': 611449, 'price': '1212.07', 'size': '1.2047', 'time': '2021-01-07T00:01:57.478714Z', 'bid': '1215.18', 'ask': '1217.98', 'volume': '3350.90634654'}, 'REN-USD': {'trade_id': 1179437, 'price': '0.3736', 'size': '672', 'time': '2021-01-07T00:01:39.106393Z', 'bid': '0.3729', 'ask': '0.3734', 'volume': '17265204.785709'}, 'NMR-BTC': {'trade_id': 360110, 'price': '0.00077922', 'size': '0.068', 'time': '2021-01-07T00:01:07.523842Z', 'bid': '0.00077719', 'ask': '0.00077929', 'volume': '27267.222'}, 'REP-USD': {'trade_id': 2207152, 'price': '19.86', 'size': '7.998668', 'time': '2021-01-07T00:01:59.215416Z', 'bid': '19.86', 'ask': '19.88', 'volume': '83581.007571'}, 'ETC-EUR': {'trade_id': 1180082, 'price': '6.183', 'size': '1', 'time': '2021-01-07T00:01:56.93068Z', 'bid': '6.162', 'ask': '6.177', 'volume': '251542.55380935'}, 'EOS-EUR': {'trade_id': 695189, 'price': '2.736', 'size': '35', 'time': '2021-01-07T00:02:03.104287Z', 'bid': '2.733', 'ask': '2.736', 'volume': '1847378.9'}, 'DNT-USDC': {'trade_id': 1887829, 'price': '0.056781', 'size': '638', 'time': '2021-01-07T00:02:03.431143Z', 'bid': '0.056785', 'ask': '0.056889', 'volume': '205710670'}, 'ETH-USD': {'trade_id': 73914987, 'price': '1218.56', 'size': '0.02287292', 'time': '2021-01-07T00:02:08.223304Z', 'bid': '1218.11', 'ask': '1218.64', 'volume': '790083.41444768'}, 'NU-EUR': {'trade_id': 335021, 'price': '0.1605', 'size': '565', 'time': '2021-01-07T00:01:55.170553Z', 'bid': '0.1604', 'ask': '0.1607', 'volume': '23087526.022756'}, 'NMR-USD': {'trade_id': 1327724, 'price': '28.7241', 'size': '0.041', 'time': '2021-01-07T00:02:02.158497Z', 'bid': '28.688', 'ask': '28.744', 'volume': '105280.927'}, 'LINK-USD': {'trade_id': 12741768, 'price': '17.35357', 'size': '100', 'time': '2021-01-07T00:02:08.685155Z', 'bid': '17.33989', 'ask': '17.35358', 'volume': '10439950.61'}, 'COMP-USD': {'trade_id': 4152434, 'price': '184.56', 'size': '1.531', 'time': '2021-01-07T00:02:07.653142Z', 'bid': '184.34', 'ask': '184.56', 'volume': '61237.172'}, 'ETC-BTC': {'trade_id': 1135975, 'price': '0.000206', 'size': '47.89132374', 'time': '2021-01-07T00:02:05.745723Z', 'bid': '0.000206', 'ask': '0.000207', 'volume': '93511.55058541'}, 'WBTC-BTC': {'trade_id': 46688, 'price': '0.9978', 'size': '0.00026016', 'time': '2021-01-07T00:02:00.512804Z', 'bid': '0.9978', 'ask': '0.9998', 'volume': '30.11529797'}, 'BNT-USD': {'trade_id': 288430, 'price': '1.6012', 'size': '20.842476', 'time': '2021-01-07T00:02:09.722547Z', 'bid': '1.5965', 'ask': '1.6012', 'volume': '4824907.28126'}, 'DASH-USD': {'trade_id': 2075541, 'price': '94.406', 'size': '1', 'time': '2021-01-07T00:02:11.488903Z', 'bid': '94.284', 'ask': '94.401', 'volume': '85735.41772317'}, 'SNX-BTC': {'trade_id': 130543, 'price': '0.00032907', 'size': '20.16', 'time': '2021-01-07T00:02:14.014217Z', 'bid': '0.00032894', 'ask': '0.00032969', 'volume': '151733.85'}, 'BTC-GBP': {'trade_id': 12200773, 'price': '27146.23', 'size': '0.00076973', 'time': '2021-01-07T00:02:12.51674Z', 'bid': '27137.27', 'ask': '27146.25', 'volume': '2409.32499387'}, 'EOS-BTC': {'trade_id': 883348, 'price': '0.000092', 'size': '258.3', 'time': '2021-01-07T00:00:59.629926Z', 'bid': '0.000091', 'ask': '0.000092', 'volume': '895466.2'}, 'LOOM-USDC': {'trade_id': 444981, 'price': '0.036496', 'size': '865', 'time': '2021-01-07T00:00:57.390709Z', 'bid': '0.036141', 'ask': '0.036483', 'volume': '26564166'}, 'XRP-BTC': {'trade_id': 4344615, 'price': '0.00000671', 'size': '5', 'time': '2021-01-07T00:02:14.97707Z', 'bid': '0.0000067', 'ask': '0.00000671', 'volume': '54456621'}, 'OMG-BTC': {'trade_id': 572708, 'price': '0.0001009', 'size': '0.6', 'time': '2021-01-07T00:01:02.63456Z', 'bid': '0.00010039', 'ask': '0.00010058', 'volume': '756417.682'}, 'XRP-EUR': {'trade_id': 3325680, 'price': '0.2003', 'size': '85.457656', 'time': '2021-01-07T00:02:06.441297Z', 'bid': '0.2003', 'ask': '0.2005', 'volume': '51282445.68522'}, 'YFI-USD': {'trade_id': 4225481, 'price': '24895.97', 'size': '0.011835', 'time': '2021-01-07T00:02:18.690697Z', 'bid': '24871.61', 'ask': '24895.97', 'volume': '1133.364264'}, 'REP-BTC': {'trade_id': 573789, 'price': '0.000535', 'size': '6.645982', 'time': '2021-01-07T00:01:59.197647Z', 'bid': '0.000524', 'ask': '0.000535', 'volume': '14222.110657'}, 'KNC-USD': {'trade_id': 3602304, 'price': '1.1988', 'size': '250', 'time': '2021-01-07T00:02:20.230097Z', 'bid': '1.1963', 'ask': '1.2', 'volume': '20092185.3'}, 'LTC-EUR': {'trade_id': 7096284, 'price': '137.3', 'size': '1.00494032', 'time': '2021-01-07T00:02:16.282083Z', 'bid': '137.08', 'ask': '137.22', 'volume': '92431.68598668'}, 'LINK-BTC': {'trade_id': 184413, 'price': '0.00047016', 'size': '115.8', 'time': '2021-01-07T00:02:18.350625Z', 'bid': '0.00046978', 'ask': '0.0004703', 'volume': '905762.57'}, 'SNX-GBP': {'trade_id': 30010, 'price': '8.9517', 'size': '8.6', 'time': '2021-01-07T00:00:15.558392Z', 'bid': '8.9299', 'ask': '8.9609', 'volume': '69274.187'}, 'DAI-USDC': {'trade_id': 1643316, 'price': '1.00186', 'size': '20.65271', 'time': '2021-01-07T00:00:20.963342Z', 'bid': '1.00186', 'ask': '1.002588', 'volume': '996515.43428'}, 'ZRX-USD': {'trade_id': 5489056, 'price': '0.45994', 'size': '945.86604', 'time': '2021-01-07T00:02:08.329308Z', 'bid': '0.45994', 'ask': '0.460587', 'volume': '26383746.15294'}, 'LTC-USD': {'trade_id': 50984540, 'price': '169.39', 'size': '0.65547525', 'time': '2021-01-07T00:02:24.590486Z', 'bid': '169.39', 'ask': '169.51', 'volume': '822467.86552059'}, 'UMA-GBP': {'trade_id': 163878, 'price': '7.112', 'size': '38.102', 'time': '2021-01-06T23:54:15.570891Z', 'bid': '7.118', 'ask': '7.151', 'volume': '8988.874'}, 'MANA-USDC': {'trade_id': 697168, 'price': '0.092962', 'size': '139', 'time': '2021-01-07T00:02:23.082592Z', 'bid': '0.092816', 'ask': '0.092962', 'volume': '35869708'}, 'FIL-GBP': {'trade_id': 39844, 'price': '16.1158', 'size': '0.198', 'time': '2021-01-06T23:55:53.291171Z', 'bid': '16.1617', 'ask': '16.1862', 'volume': '41327.49'}, 'LTC-GBP': {'trade_id': 1175906, 'price': '124.33', 'size': '2', 'time': '2021-01-07T00:02:20.845128Z', 'bid': '124.15', 'ask': '124.59', 'volume': '29006.16737141'}, 'REN-BTC': {'trade_id': 170922, 'price': '0.00001012', 'size': '10', 'time': '2021-01-07T00:00:38.48039Z', 'bid': '0.0000101', 'ask': '0.00001015', 'volume': '1527073'}, 'BTC-USDC': {'trade_id': 3687892, 'price': '36921.93', 'size': '0.184', 'time': '2021-01-07T00:02:28.309192Z', 'bid': '36914.7', 'ask': '36923.25', 'volume': '1699.91067547'}, 'BTC-EUR': {'trade_id': 33309571, 'price': '29898.17', 'size': '0.0016334', 'time': '2021-01-07T00:02:25.466113Z', 'bid': '29857.42', 'ask': '29871.84', 'volume': '4114.09536883'}, 'BAL-BTC': {'trade_id': 49002, 'price': '0.00049899', 'size': '2.75', 'time': '2021-01-06T23:58:07.40399Z', 'bid': '0.00050182', 'ask': '0.0005032', 'volume': '16115.14'}, 'EOS-USD': {'trade_id': 3191471, 'price': '3.378', 'size': '150', 'time': '2021-01-07T00:02:29.999511Z', 'bid': '3.377', 'ask': '3.38', 'volume': '8105467'}, 'ZRX-EUR': {'trade_id': 1156544, 'price': '0.372888', 'size': '1327.57623', 'time': '2021-01-07T00:02:11.268592Z', 'bid': '0.371829', 'ask': '0.372347', 'volume': '6545019.32088'}, 'ALGO-BTC': {'trade_id': 168462, 'price': '0.00001385', 'size': '7', 'time': '2021-01-07T00:02:27.891912Z', 'bid': '0.00001382', 'ask': '0.00001385', 'volume': '10933770'}, 'AAVE-USD': {'trade_id': 316040, 'price': '114.874', 'size': '0.607', 'time': '2021-01-07T00:02:28.929169Z', 'bid': '114.912', 'ask': '115.087', 'volume': '107180.127'}, 'ZEC-USD': {'trade_id': 197898, 'price': '64.27', 'size': '0.13949', 'time': '2021-01-07T00:02:31.396947Z', 'bid': '64.16', 'ask': '64.27', 'volume': '85430.84177257'}, 'ETH-GBP': {'trade_id': 2477854, 'price': '893.43', 'size': '0.009', 'time': '2021-01-07T00:02:32.40889Z', 'bid': '893.55', 'ask': '894.8', 'volume': '47295.80950223'}, 'NMR-GBP': {'trade_id': 183254, 'price': '21.1099', 'size': '0.006', 'time': '2021-01-06T23:45:59.854047Z', 'bid': '21.0432', 'ask': '21.1099', 'volume': '22442.77'}, 'NU-BTC': {'trade_id': 404781, 'price': '0.00000535', 'size': '144', 'time': '2021-01-07T00:02:19.406409Z', 'bid': '0.00000535', 'ask': '0.00000536', 'volume': '15520827'}, 'BAT-ETH': {'trade_id': 551066, 'price': '0.00020728', 'size': '5', 'time': '2021-01-07T00:01:34.785678Z', 'bid': '0.00020578', 'ask': '0.00020651', 'volume': '1949486'}, 'GRT-EUR': {'trade_id': 486951, 'price': '0.2995', 'size': '16', 'time': '2021-01-07T00:02:25.367672Z', 'bid': '0.2995', 'ask': '0.2997', 'volume': '41131589.63'}, 'BCH-EUR': {'trade_id': 2695387, 'price': '368.94', 'size': '2.54', 'time': '2021-01-07T00:02:28.258324Z', 'bid': '368.82', 'ask': '369.45', 'volume': '13008.4759376'}, 'BNT-EUR': {'trade_id': 71392, 'price': '1.2994', 'size': '102.342144', 'time': '2021-01-07T00:01:29.596516Z', 'bid': '1.2912', 'ask': '1.2966', 'volume': '609455.281021'}, 'UMA-USD': {'trade_id': 1037459, 'price': '9.722', 'size': '1.03', 'time': '2021-01-07T00:02:21.788253Z', 'bid': '9.705', 'ask': '9.719', 'volume': '256799.273'}, 'ATOM-BTC': {'trade_id': 541373, 'price': '0.000181', 'size': '0.1', 'time': '2021-01-07T00:01:31.531117Z', 'bid': '0.000181', 'ask': '0.000182', 'volume': '217650.3'}, 'BNT-BTC': {'trade_id': 56951, 'price': '0.00004337', 'size': '46', 'time': '2021-01-07T00:01:17.147177Z', 'bid': '0.00004308', 'ask': '0.0000434', 'volume': '338757'}, 'MKR-USD': {'trade_id': 1915074, 'price': '1039.2782', 'size': '0.009638', 'time': '2021-01-07T00:02:38.133124Z', 'bid': '1037.457', 'ask': '1039.2782', 'volume': '44893.224247'}, 'GRT-BTC': {'trade_id': 508924, 'price': '0.00000999', 'size': '1197.72', 'time': '2021-01-07T00:02:37.908387Z', 'bid': '0.00000997', 'ask': '0.00000999', 'volume': '22262935.22'}, 'FIL-USD': {'trade_id': 381902, 'price': '22.0651', 'size': '0.316', 'time': '2021-01-07T00:02:42.376072Z', 'bid': '22.0339', 'ask': '22.0651', 'volume': '234309.634'}, 'ALGO-GBP': {'trade_id': 142455, 'price': '0.3759', 'size': '24', 'time': '2021-01-07T00:02:43.110891Z', 'bid': '0.3742', 'ask': '0.3759', 'volume': '4906102'}, 'CGLD-GBP': {'trade_id': 89997, 'price': '1.71', 'size': '230.19', 'time': '2021-01-07T00:02:04.975942Z', 'bid': '1.7068', 'ask': '1.7184', 'volume': '381763.36'}, 'OMG-EUR': {'trade_id': 1350375, 'price': '3.0071', 'size': '185', 'time': '2021-01-07T00:02:39.526255Z', 'bid': '3.0075', 'ask': '3.0154', 'volume': '1410603.1'}, 'FIL-EUR': {'trade_id': 104646, 'price': '17.8133', 'size': '13.85', 'time': '2021-01-07T00:02:20.801931Z', 'bid': '17.8126', 'ask': '17.8536', 'volume': '29024.575'}, 'BAND-EUR': {'trade_id': 856392, 'price': '7.2952', 'size': '6.57', 'time': '2021-01-07T00:02:44.98675Z', 'bid': '7.2776', 'ask': '7.2952', 'volume': '407746.37'}, 'LRC-BTC': {'trade_id': 134769, 'price': '0.00001116', 'size': '557', 'time': '2021-01-07T00:02:34.190705Z', 'bid': '0.00001119', 'ask': '0.00001125', 'volume': '24812917'}, 'GNT-USDC': {'trade_id': 284629, 'price': '0.12', 'size': '650', 'time': '2021-01-07T00:00:32.689041Z', 'bid': '0.119787', 'ask': '0.119999', 'volume': '3717335'}, 'AAVE-GBP': {'trade_id': 30237, 'price': '84.439', 'size': '4.73', 'time': '2021-01-07T00:02:01.836171Z', 'bid': '84.302', 'ask': '84.618', 'volume': '7708.597'}, 'UNI-BTC': {'trade_id': 81253, 'price': '0.00017378', 'size': '1', 'time': '2021-01-07T00:02:12.251022Z', 'bid': '0.00017367', 'ask': '0.00017399', 'volume': '432426.3'}, 'BCH-GBP': {'trade_id': 579020, 'price': '335.5', 'size': '2.4', 'time': '2021-01-07T00:02:39.529808Z', 'bid': '336.11', 'ask': '336.8', 'volume': '3481.19980135'}, 'GRT-USD': {'trade_id': 2739118, 'price': '0.3716', 'size': '804.52', 'time': '2021-01-07T00:02:47.620011Z', 'bid': '0.3708', 'ask': '0.3711', 'volume': '193598330.03'}, 'ALGO-EUR': {'trade_id': 446927, 'price': '0.4137', 'size': '23', 'time': '2021-01-07T00:02:48.473416Z', 'bid': '0.4144', 'ask': '0.4155', 'volume': '8523670'}, 'OMG-GBP': {'trade_id': 677407, 'price': '2.7381', 'size': '32.3', 'time': '2021-01-07T00:02:49.612221Z', 'bid': '2.7336', 'ask': '2.7439', 'volume': '725161.2'}, 'XLM-BTC': {'trade_id': 2488412, 'price': '0.00000911', 'size': '15', 'time': '2021-01-07T00:02:51.760682Z', 'bid': '0.00000911', 'ask': '0.00000913', 'volume': '210502533'}, 'BNT-GBP': {'trade_id': 23511, 'price': '1.179', 'size': '19.83301', 'time': '2021-01-07T00:01:17.973396Z', 'bid': '1.1707', 'ask': '1.1773', 'volume': '251971.170348'}, 'BAT-USDC': {'trade_id': 5272510, 'price': '0.251715', 'size': '1058', 'time': '2021-01-07T00:02:51.3177Z', 'bid': '0.251557', 'ask': '0.251737', 'volume': '24227954'}, 'ALGO-USD': {'trade_id': 6462461, 'price': '0.5139', 'size': '372', 'time': '2021-01-07T00:02:53.954051Z', 'bid': '0.5136', 'ask': '0.5142', 'volume': '70069690'}, 'XTZ-GBP': {'trade_id': 142347, 'price': '1.94729', 'size': '90', 'time': '2021-01-07T00:02:44.002324Z', 'bid': '1.9448', 'ask': '1.9518', 'volume': '511484.45'}, 'ETH-USDC': {'trade_id': 2331966, 'price': '1219.41', 'size': '0.2', 'time': '2021-01-07T00:02:51.744847Z', 'bid': '1219.54', 'ask': '1220.02', 'volume': '41773.14178734'}, 'BCH-USD': {'trade_id': 20074310, 'price': '457.75', 'size': '3.26', 'time': '2021-01-07T00:02:51.417524Z', 'bid': '457.62', 'ask': '457.76', 'volume': '101513.85577251'}, 'LTC-BTC': {'trade_id': 7993374, 'price': '0.004573', 'size': '0.0612', 'time': '2021-01-07T00:02:55.36101Z', 'bid': '0.004571', 'ask': '0.004573', 'volume': '109041.48220735'}, 'BTC-USD': {'trade_id': 119480757, 'price': '36999.99', 'size': '0.00271628', 'time': '2021-01-07T00:02:56.753574Z', 'bid': '36997.52', 'ask': '37000', 'volume': '43633.47701273'}, 'CVC-USDC': {'trade_id': 1506977, 'price': '0.104269', 'size': '179', 'time': '2021-01-07T00:02:40.904096Z', 'bid': '0.104283', 'ask': '0.104473', 'volume': '96492161'}, 'LINK-ETH': {'trade_id': 1177653, 'price': '0.01426805', 'size': '1.98', 'time': '2021-01-07T00:02:38.166544Z', 'bid': '0.01423224', 'ask': '0.01424904', 'volume': '497474.28'}, 'ZRX-BTC': {'trade_id': 1788402, 'price': '0.00001242', 'size': '1.27256', 'time': '2021-01-07T00:02:53.712369Z', 'bid': '0.00001242', 'ask': '0.00001244', 'volume': '6234719.48298'}, 'XTZ-EUR': {'trade_id': 265728, 'price': '2.1547', 'size': '8.58', 'time': '2021-01-07T00:02:55.463905Z', 'bid': '2.14371', 'ask': '2.14957', 'volume': '1739673.5'}, 'XRP-USD': {'trade_id': 24588341, 'price': '0.2486', 'size': '112.426974', 'time': '2021-01-07T00:03:00.598098Z', 'bid': '0.2484', 'ask': '0.2486', 'volume': '510998609.072832'}, 'CGLD-USD': {'trade_id': 1768825, 'price': '2.3295', 'size': '2.59', 'time': '2021-01-07T00:03:01.686028Z', 'bid': '2.3295', 'ask': '2.3306', 'volume': '7084166.9'}, 'ZEC-USDC': {'trade_id': 1743911, 'price': '64.21', 'size': '4.20809698', 'time': '2021-01-07T00:02:56.778069Z', 'bid': '64.22', 'ask': '64.24', 'volume': '21160.86719126'}, 'BCH-BTC': {'trade_id': 3459581, 'price': '0.01237', 'size': '1.591', 'time': '2021-01-07T00:02:55.34337Z', 'bid': '0.01237', 'ask': '0.01238', 'volume': '19660.81658822'}}

f.build_graph(tickers)
print(f.fx('USD', 'EUR'))
